### 状態遷移を含むロジックの実装サンプル（分岐ロジックはできるだけ排除）
